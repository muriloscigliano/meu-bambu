---
interface Props {
	title: string;
	description: string;
	features: Array<{
		title: string;
		description: string;
	}>;
}

const { title, description, features } = Astro.props as Props;
const midPoint = Math.ceil(features.length / 2);
const leftFeatures = features.slice(0, midPoint);
const rightFeatures = features.slice(midPoint);
---

<section class="why-choose">
	<div class="why-choose__container" data-reveal>
		<div class="why-choose__content">
			<h2 class="why-choose__title">{title}</h2>
			<p class="why-choose__description">{description}</p>
		</div>

		<div class="why-choose__features">
			<div class="why-choose__feature-col">
				{leftFeatures.map((feature, index) => (
					<>
						<div class="why-choose__feature">
							<svg class="why-choose__feature-icon" width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
								<circle cx="16" cy="16" r="15" stroke="currentColor" stroke-width="2"/>
								<path d="M10 16L14 20L22 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
							</svg>
							<h3 class="why-choose__feature-title">{feature.title}</h3>
							<p class="why-choose__feature-desc">{feature.description}</p>
						</div>
						{index < leftFeatures.length - 1 && <div class="why-choose__feature-divider"></div>}
					</>
				))}
			</div>

			<div class="why-choose__col-divider"></div>

			<div class="why-choose__feature-col">
				{rightFeatures.map((feature, index) => (
					<>
						<div class="why-choose__feature">
							<svg class="why-choose__feature-icon" width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
								<circle cx="16" cy="16" r="15" stroke="currentColor" stroke-width="2"/>
								<path d="M10 16L14 20L22 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
							</svg>
							<h3 class="why-choose__feature-title">{feature.title}</h3>
							<p class="why-choose__feature-desc">{feature.description}</p>
						</div>
						{index < rightFeatures.length - 1 && <div class="why-choose__feature-divider"></div>}
					</>
				))}
			</div>
		</div>
	</div>
</section>

<style>
.why-choose { 
	position: relative; 
	isolation: isolate; 
	min-height: var(--section-min-height);
	display: flex;
	align-items: center;
	background: #202318;
	border-top: 1px solid rgba(255, 255, 255, 0.1);
	border-bottom: 1px solid rgba(255, 255, 255, 0.1);
	padding-block: 90px;
	overflow: hidden;
}

.why-choose::before,
.why-choose::after {
	background: rgba(255, 255, 255, 0.1);
}

.why-choose::before {
	content: '';
	position: absolute;
	inset: 0;
	background-image: url("data:image/svg+xml,%3Csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3CradialGradient id='bamboo-gradient' cx='50%25' cy='50%25' r='50%25'%3E%3Cstop offset='0%25' style='stop-color:%234b4234;stop-opacity:0.1'/%3E%3Cstop offset='100%25' style='stop-color:%2324261d;stop-opacity:0.3'/%3E%3C/radialGradient%3E%3C/defs%3E%3Crect width='100%25' height='100%25' fill='url(%23bamboo-gradient)'/%3E%3C/svg%3E");
	opacity: 0.5;
	pointer-events: none;
}

.why-choose::after {
	content: '';
	position: absolute;
	inset: 0;
	background: linear-gradient(90deg, rgba(0, 0, 0, 0.25) 0%, rgba(0, 0, 0, 0.25) 100%),
				linear-gradient(262.508deg, rgba(75, 66, 52, 0) 16.445%, rgba(36, 36, 29, 0.5) 58.211%);
	pointer-events: none;
}

.why-choose__container { 
	position: relative;
	z-index: 1;
	max-width: var(--container-max); 
	margin-inline: auto;
	width: 100%;
	padding-inline: 2.25rem;
	display: flex;
	gap: 48px;
	align-items: center;
}

.why-choose__content {
	flex: 0 0 604px;
	display: flex;
	flex-direction: column;
	gap: 36px;
}

.why-choose__title { 
	font-family: var(--font-display); 
	font-weight: 900;
	text-transform: uppercase; 
	line-height: 1;
	font-size: 72px;
	color: var(--color-white);
	margin: 0;
}

.why-choose__description {
	font-family: var(--font-sans);
	font-weight: 500;
	font-size: 16px;
	line-height: 1.4;
	color: var(--color-text-gray);
	margin: 0;
	max-width: 533px;
}

.why-choose__features {
	flex: 1;
	display: flex;
	gap: 1px;
	padding: 48px 24px;
	backdrop-filter: blur(25px);
	background: rgba(36, 38, 29, 0.01);
	border: 1px solid #5a5948;
	border-radius: 8px;
}

.why-choose__feature-col {
	flex: 1;
	display: flex;
	flex-direction: column;
	gap: 52px;
}

.why-choose__col-divider {
	width: 398px;
	height: 0;
	border-top: 1px solid rgba(255, 255, 255, 0.1);
	align-self: center;
	transform: rotate(90deg);
	flex-shrink: 0;
	margin-inline: -199px;
}

.why-choose__feature {
	display: flex;
	flex-direction: column;
	gap: 24px;
	padding-inline: 24px;
}

.why-choose__feature:last-child {
	padding-left: 36px;
}

.why-choose__feature-icon {
	width: 32px;
	height: 32px;
	color: white;
}

.why-choose__feature-title {
	font-family: var(--font-display);
	font-weight: 400;
	font-size: 18px;
	line-height: 1.1;
	text-transform: uppercase;
	color: white;
	margin: 0;
}

.why-choose__feature-desc {
	font-family: var(--font-sans);
	font-weight: 400;
	font-size: 16px;
	line-height: 1.4;
	color: var(--color-text-gray);
	margin: 0;
}

.why-choose__feature-divider {
	height: 1px;
	background: rgba(255, 255, 255, 0.1);
	margin-inline: 24px;
}

@media (max-width: 1024px) {
	.why-choose__container {
		flex-direction: column;
	}
	
	.why-choose__content {
		flex: 1;
	}
	
	.why-choose__features {
		flex-direction: column;
		width: 100%;
	}
	
	.why-choose__col-divider {
		transform: rotate(0deg);
		width: 100%;
		height: 1px;
		margin: 0;
	}
}

@media (max-width: 768px) {
	.why-choose__title {
		font-size: 48px;
	}
	
	.why-choose__features {
		padding: 24px 16px;
	}
	
	.why-choose__feature {
		padding-inline: 16px;
	}
	
	.why-choose__feature:last-child {
		padding-left: 16px;
	}
}
</style>
